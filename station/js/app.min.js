(()=>{"use strict";let t=!1;setTimeout((()=>{if(t){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0),document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("nozzle"),e=document.getElementById("hose-path"),n=document.getElementById("start-stop"),o=document.getElementById("liters"),i=document.getElementById("total-price"),s=document.getElementById("fuel"),l=document.getElementById("canister"),r=document.getElementById("sensor");let a,c,d=0,u=0,g=0,m=!1;const f={"A-92":{liters:0,price:4.5},"A-95":{liters:0,price:4.9},"A-98":{liters:0,price:5.3}},p=document.querySelectorAll(".gas");function v(){clearInterval(a),clearInterval(c),m=!1,n.textContent="Заправити",s.classList.add("still")}function h(){const t=r.getBoundingClientRect(),e=l.getBoundingClientRect(),n=-.15*t.height;return t.bottom-n>e.bottom||t.top+n<e.top||t.right-n>e.right||t.left+n<e.left}p.forEach((t=>{t.addEventListener("click",(function(){d=parseFloat(this.getAttribute("data-price")),p.forEach((t=>t.classList.remove("_thre"))),this.classList.add("_thre")}))})),n.addEventListener("click",(function(){s.classList.add("liquid"),function(){const t=r.getBoundingClientRect(),e=l.getBoundingClientRect();return t.bottom>=e.top&&t.top<=e.bottom&&t.right>=e.left&&t.left<=e.right}()?m?v():d>0?(m=!0,n.textContent="Зупинити",s.classList.remove("still"),a=setInterval((()=>{!function(){const e=document.createElement("div");e.className="drop",e.style.left="120px",e.style.top="16px",e.style.rotate="-65deg",t.appendChild(e),e.style.animation="fall 0.4s linear forwards",e.addEventListener("animationend",(()=>{e.remove()})),function(t){const e=setInterval((()=>{const n=t.getBoundingClientRect(),o=l.getBoundingClientRect();n.top>=o.top&&n.bottom<=o.bottom&&n.left>=o.left&&n.right<=o.right&&h()||(t.remove(),clearInterval(e))}),70)}(e)}()}),18),c=setInterval((()=>{u+=.1;const t=document.querySelector(".gas._thre");if(t){const e=t.textContent.split(" ")[0].trim();f[e]?f[e].liters+=.1:console.error(`Fuel data not found for ${e}`)}else console.error("No fuel type selected");g=0;for(const t in f)g+=f[t].liters*f[t].price;o.textContent=u.toFixed(1),i.textContent=g.toFixed(2)+" zl";const e=u/20*100;s.style.height=`${e}%`;const n=r.getBoundingClientRect(),l=s.getBoundingClientRect();n.bottom>=l.top&&n.bottom<=l.bottom&&n.left>=l.left&&n.right<=l.right&&(v(),alert('Каністра заповнена! Бо це розумна заправка)) коли рівень палива доходить до кінця трубки пістолету на якій розташований "датчик" він припиняє подачу палива')),h()&&(v(),alert("Пістолет вийнятий з каністри. Зупинено заправку. Пістолет повинен бути в каністрі для подальшої заправки! будь ласка перевірте правильність використання, якщо виникають проблеми, перегляньте інструкцію"))}),100)):alert("Виберіть який тип бензину вам підходить та натисніть заправити! будьте уважні сьогодні в нас тільки бензин але завтра може бути й дизель))"):alert("Увага,Увага! Пістолет повинен бути в каністрі для подальшої заправки! будь ласка перевірте правильність використання, якщо виникають проблеми, перегляньте інструкцію))")}));let y=!1;t.addEventListener("mousedown",(e=>{y=!0,t.style.cursor="grabbing"})),document.addEventListener("mousemove",(n=>{if(y){const o=n.clientX-t.offsetWidth/2,i=n.clientY-t.offsetHeight/2;t.style.left=`${o}px`,t.style.top=`${i}px`,e.setAttribute("d",`M 130,100 Q ${(o+100)/2},${(i+100)/2} ${o+30},${i+20}`)}})),document.addEventListener("mouseup",(()=>{y=!1,t.style.cursor="pointer"}))})),window.FLS=!0,function(){const t=document.querySelectorAll("[data-rating]");function e(t){const e=t.target;if(e.closest(".rating__input")){const t=e.closest(".rating__input"),o=+t.value,i=t.closest(".rating");"set"===i.dataset.rating&&function(t,e){const o=e;n(t,o)}(i,o)}}function n(t,e){const n=t.querySelectorAll(".rating__item"),o=parseInt(e),i=e-o;t.hasAttribute("data-rating-title")&&(t.title=e),n.forEach(((t,e)=>{t.classList.remove("rating__item--active"),t.querySelector("span")&&n[e].querySelector("span").remove(),e<=o-1&&t.classList.add("rating__item--active"),e===o&&i&&t.insertAdjacentHTML("beforeend",`<span style="width:${100*i}%"></span>`)}))}t&&t.forEach((t=>{const o=+t.dataset.ratingValue;!function(t,e){let n="";for(let t=0;t<e;t++)0===t&&(n+='<div class="rating__items">'),n+=`\n\t\t\t\t<label class="rating__item">\n\t\t\t\t\t<input class="rating__input" type="radio" name="rating" value="${t+1}">\n\t\t\t\t</label>`,t===e&&(n+='</div">');t.insertAdjacentHTML("beforeend",n)}(t,+t.dataset.ratingSize?+t.dataset.ratingSize:5),o&&n(t,o),document.addEventListener("click",e)}))}()})();