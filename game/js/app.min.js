(()=>{"use strict";let t=!1;setTimeout((()=>{if(t){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0),document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("pachinkoBoard"),e=document.getElementById("movingBlock"),o=document.getElementById("ball"),s=document.getElementById("prizeDisplay"),i=document.getElementById("dropBallButton"),n=document.getElementById("jackpotSound"),l=document.getElementById("ballSound"),a=document.getElementById("pointSound"),c=document.getElementById("shortSound");let d=!1,f=0,p=0;const u=3,r=1500;function m(l){const d=t.clientWidth/7;let m=0;switch(Math.floor(l/d)){case 0:case 6:m=100,s.textContent="Prize: 100 points";break;case 1:case 5:m=250,s.textContent="Prize: 250 points";break;case 2:case 4:m=500,s.textContent="Prize: 500 points";break;case 3:m=1e3,s.textContent="Prize: 1000 points";break;default:s.textContent="Prize: No points"}!function(e,o){const s=document.createElement("div");s.classList.add("floating-number"),s.textContent=e,s.style.left=`${o}px`,s.style.top=t.clientHeight-60+"px",t.appendChild(s),a.play(),setTimeout((()=>{s.remove(),a.pause(),a.currentTime=0}),1500)}(m,l),p+=m,f++,f>=u?(p>=r?(s.textContent=`Jackpot! Total points: ${p}`,t.classList.add("jackpot"),s.classList.add("jackpot-text"),n.play(),setTimeout((()=>{t.classList.remove("jackpot"),y()}),4e3),setTimeout((()=>{s.classList.remove("jackpot-text"),y()}),17e3),setTimeout((()=>{document.querySelectorAll(".peg").forEach((t=>{t.classList.remove("sequential-flash"),t.style.animationDelay=""}))}),17e3),i.disabled=!0,setTimeout((()=>{i.disabled=!1}),17e3)):(s.textContent=`Total points: ${p}`,c.play(),setTimeout((()=>{c.pause(),c.currentTime=0}),4e3)),f=0,p=0):s.textContent+=` | Total points: ${p}`,setTimeout((()=>{o.style.top=`${e.offsetTop+e.offsetHeight}px`,o.style.left=e.offsetLeft+e.offsetWidth/2-o.offsetWidth/2+"px",o.style.visibility="visible"}),500)}function y(){document.querySelectorAll(".peg").forEach(((t,e)=>{t.style.animationDelay=.1*e+"s",t.classList.add("sequential-flash")}))}!function(){for(let e=50,o=1;e<550;e+=50,o++){for(let s=o%2==0?25:50;s<295;s+=50){const o=document.createElement("div");o.classList.add("peg"),o.style.left=`${s}px`,o.style.top=`${e}px`,t.appendChild(o)}}}(),i.addEventListener("click",(function(){if(d)return;d=!0,l.play(),o.style.visibility="visible";let s=e.offsetTop+e.offsetHeight,i=e.offsetLeft+e.offsetWidth/2-o.offsetWidth/2;o.style.top=`${s}px`,o.style.left=`${i}px`;let n=!1;const a=setInterval((()=>{s+=5,o.style.top=`${s}px`,document.querySelectorAll(".peg").forEach((t=>{const e=t.getBoundingClientRect(),s=o.getBoundingClientRect();if(s.bottom>e.top&&s.top<e.bottom&&s.left<e.right&&s.right>e.left&&!n){const t=.5,e=20,s=(t-e)/(t+e)*16+1*e/(t+e)*0,l=Math.random()<.5?-1.5:1.5;i+=s*l,o.style.transition="left 0.03s",o.style.left=`${i}px`,n=!0,setTimeout((()=>{n=!1}),195)}})),s>=t.clientHeight-o.offsetHeight&&(clearInterval(a),l.pause(),l.currentTime=0,m(i),d=!1,setTimeout((()=>{o.style.visibility="hidden"}),100))}),50)})),o.style.top=`${e.offsetTop+e.offsetHeight}px`,o.style.left=e.offsetLeft+e.offsetWidth/2-o.offsetWidth/2+"px",o.style.visibility="visible",setInterval((()=>{d||(o.style.top=`${e.offsetTop+e.offsetHeight}px`,o.style.left=e.offsetLeft+e.offsetWidth/2-o.offsetWidth/2+"px",o.style.visibility="visible")}),10)})),window.FLS=!0})();